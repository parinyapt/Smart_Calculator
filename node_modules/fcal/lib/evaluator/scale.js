"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const datatype_1 = require("../types/datatype");
const symboltable_1 = require("./symboltable");
/**
 * Scale is used to define scale of number literal
 */
class Scale {
    /**
     * Create scale register
     * @param symbolTable symbol table
     */
    constructor(symbolTable) {
        this.values = new Map();
        this.symbolTable = symbolTable;
    }
    /**
     * Get the Scale value by its phrase
     * @param {string} key scale phrase or id
     * @returns {Type | undefined} scale value
     */
    get(key) {
        return this.values.get(key);
    }
    /**
     * create new scale
     * @param {string} key scale name
     * @param  {Type | Big.Decimal | number | string} value value
     */
    set(key, value) {
        this.symbolTable.set(key, symboltable_1.Entity.SCALE);
        if (value instanceof datatype_1.Type) {
            this.values.set(key, value);
            return;
        }
        this.values.set(key, datatype_1.Type.BNumber.New(value));
    }
    /**
     * import values from Object or map into scale
     * @param {Object | Map} values
     */
    use(values) {
        if (values instanceof Map) {
            values.forEach((value, key) => {
                this.set(key, value);
            });
            return;
        }
        for (const key in values) {
            if (values.hasOwnProperty(key)) {
                const element = values[key];
                this.set(key, element);
            }
        }
    }
}
exports.Scale = Scale;
